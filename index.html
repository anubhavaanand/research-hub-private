<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Hub</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    >
  </head>
  <body>
  
  <!-- Web Version Warning Banner (auto-detected) -->
  <div id="web-warning-banner" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; padding: 12px 20px; text-align: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.15); display: none;">
    ‚ö†Ô∏è <strong>Web Demo Version</strong> - Limited to ~10MB storage. 
    <a href="https://github.com/anubhavaanand/research-hub/releases" style="color: white; text-decoration: underline; font-weight: 600; margin-left: 8px;">Download Desktop App</a> for unlimited storage and full features.
  </div>

  <nav class="navbar" aria-label="Main navigation">
      <div class="nav-container">
        <div class="nav-logo">
          <h1>Research Hub</h1>
        </div>
        <ul class="nav-menu" role="menubar">
          <li role="none">
            <button type="button" class="nav-link active" data-view="home" role="menuitem" aria-current="page">
              <span class="nav-icon">üè†</span>
              Home
            </button>
          </li>
          <li role="none">
            <button type="button" class="nav-link" data-view="upload" role="menuitem">
              <span class="nav-icon">üì§</span>
              Upload
            </button>
          </li>
          <li role="none">
            <button type="button" class="nav-link" data-view="documents" role="menuitem">
              <span class="nav-icon">üìÅ</span>
              Documents
            </button>
          </li>
          <li role="none">
            <button type="button" class="nav-link" data-view="search" role="menuitem">
              <span class="nav-icon">üîç</span>
              Search
            </button>
          </li>
          <li role="none">
            <button type="button" class="nav-link" data-view="profile" role="menuitem">
              <span class="nav-icon">üë§</span>
              Profile
            </button>
          </li>
        </ul>
        <div class="nav-actions">
          <button type="button" class="theme-toggle" aria-label="Toggle dark mode">
            <span class="theme-icon">üåô</span>
          </button>
          <button type="button" class="menu-toggle" aria-label="Toggle mobile menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <section id="home-view" class="view active" aria-label="Dashboard">
        <div class="container">
          <header class="view-header">
            <h2>Research Hub</h2>
            <p>Organize, search, and generate citations for your research papers</p>
          </header>

          <div class="dashboard-grid">
            <div class="stats-container">
              <div class="stat-card">
                <div class="stat-icon">üìÑ</div>
                <div class="stat-content">
                  <h3 id="total-documents">0</h3>
                  <p>Total Documents</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üìÅ</div>
                <div class="stat-content">
                  <h3 id="total-folders">0</h3>
                  <p>Folders</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üè∑Ô∏è</div>
                <div class="stat-content">
                  <h3 id="total-tags">0</h3>
                  <p>Tags</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                  <h3 id="total-citations">0</h3>
                  <p>Citations Generated</p>
                </div>
              </div>
            </div>

            <div class="citation-analytics">
              <h3>Citation Analytics</h3>
              <div class="analytics-container">
                <div class="citation-chart">
                  <canvas id="citationChart" width="400" height="200"></canvas>
                </div>
                <div class="citation-stats">
                  <div class="stat-item">
                    <span class="stat-label">APA Citations:</span>
                    <span class="stat-value" id="apa-count">0</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-label">IEEE Citations:</span>
                    <span class="stat-value" id="ieee-count">0</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-label">Journal Papers:</span>
                    <span class="stat-value" id="journal-count">0</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-label">Conference Papers:</span>
                    <span class="stat-value" id="conference-count">0</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="recent-documents">
              <h3>Recent Documents</h3>
              <div id="recent-docs-list" class="document-list"></div>
            </div>

            <div class="quick-actions">
              <h3>Quick Actions</h3>
              <div class="action-buttons">
                <button type="button" class="quick-action-btn" data-action="upload">
                  <span class="action-icon">üì§</span>
                  Upload Document
                </button>
                <button type="button" class="quick-action-btn" data-action="create-folder">
                  <span class="action-icon">üìÅ</span>
                  Create Folder
                </button>
                <button type="button" class="quick-action-btn" data-action="bulk-upload">
                  <span class="action-icon">üìö</span>
                  Bulk Upload
                </button>
              </div>
            </div>

            <div class="activity-log">
              <h3>Recent Activity</h3>
              <div id="activity-list" class="activity-list"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="upload-view" class="view" aria-label="Upload documents">
        <div class="container">
          <header class="view-header">
            <h2>Upload Documents</h2>
            <p>Add new documents to your collection</p>
          </header>

          <div class="upload-container">
            <div class="upload-area" id="upload-area">
              <div class="upload-content">
                <div class="upload-icon">üì§</div>
                  <h3>Drag &amp; Drop Files Here</h3>
                <p>or <button type="button" class="browse-btn" id="browse-btn">Browse Files</button></p>
                <input
                  type="file"
                  id="file-input"
                  multiple
                  accept=".pdf,.docx,.doc,.txt,.jpg,.jpeg,.png,.gif"
                    hidden>
              </div>
            </div>

            <div class="upload-options">
              <div class="option-group">
                <label for="folder-select">Folder:</label>
                <select id="folder-select" class="form-select">
                  <option value="">Select folder (optional)</option>
                </select>
                <button type="button" class="create-folder-btn" id="create-folder-btn">+ New Folder</button>
              </div>

              <div class="option-group">
                <label>Paper Type:</label>
                <div class="radio-group">
                  <label class="radio-label">
                    <input
                      type="radio"
                      name="paper-type"
                      value="Journal Paper"
                      id="journal-radio"
                    >
                    <span>Journal Paper</span>
                  </label>
                  <label class="radio-label">
                    <input
                      type="radio"
                      name="paper-type"
                      value="Conference Paper"
                      id="conference-radio"
                    >
                    <span>Conference Paper</span>
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="paper-type" value="" id="none-radio" checked>
                    <span>Not an Academic Paper</span>
                  </label>
                </div>
              </div>

              <div id="academic-fields" class="academic-fields hidden">
                <div class="option-group">
                  <label for="authors-input">Authors:</label>
                  <input
                    type="text"
                    id="authors-input"
                    class="form-input"
                    placeholder="Enter authors separated by commas (e.g., Smith, J., Doe, A.)"
                    aria-describedby="authors-help"
                  >
                  <small id="authors-help" class="field-help"
                    >Enter author names separated by commas</small
                  >
                </div>

                <div class="option-group">
                  <label for="year-input">Year:</label>
                  <input
                    type="number"
                    id="year-input"
                    class="form-input"
                    min="1900"
                    max="2030"
                    placeholder="Publication year"
                    aria-describedby="year-help"
                  >
                  <small id="year-help" class="field-help">Year of publication (1900-2030)</small>
                </div>

                <div class="option-group">
                  <label for="publication-input"
                    >Publication Name <span class="required">*</span>:</label
                  >
                  <input
                    type="text"
                    id="publication-input"
                    class="form-input"
                    placeholder="Journal or Conference name"
                    required
                    aria-describedby="publication-help"
                  >
                  <small id="publication-help" class="field-help"
                    >Required: Name of the journal or conference</small
                  >
                </div>

                <div id="journal-fields" class="journal-fields hidden">
                  <div class="option-group">
                    <label for="volume-input">Volume:</label>
                    <input
                      type="text"
                      id="volume-input"
                      class="form-input"
                      placeholder="Volume number"
                    >
                  </div>

                  <div class="option-group">
                    <label for="issue-input">Issue:</label>
                    <input
                      type="text"
                      id="issue-input"
                      class="form-input"
                      placeholder="Issue number"
                    >
                  </div>
                </div>

                <div class="option-group">
                  <label for="pages-input">Pages:</label>
                  <input
                    type="text"
                    id="pages-input"
                    class="form-input"
                    placeholder="Page range (e.g., 112-120)"
                    pattern="[0-9]+-[0-9]+|[0-9]+"
                    aria-describedby="pages-help"
                  >
                  <small id="pages-help" class="field-help"
                    >Page range (e.g., 112-120) or single page number</small
                  >
                </div>
              </div>

              <div class="option-group">
                <label for="tags-input">Tags:</label>
                <input
                  type="text"
                  id="tags-input"
                  class="form-input"
                  placeholder="Enter tags separated by commas"
                >
              </div>

              <div class="option-group">
                <label for="notes-input">Notes:</label>
                <textarea
                  id="notes-input"
                  class="form-textarea"
                  placeholder="Add notes about this document (optional)"
                ></textarea>
              </div>
            </div>

            <div class="upload-queue" id="upload-queue"></div>
          </div>
        </div>
      </section>

      <section id="documents-view" class="view" aria-label="Document library">
        <div class="container">
          <header class="view-header">
            <h2>Document Library</h2>
            <div class="view-actions">
              <div class="view-mode-toggle">
                <button type="button" class="view-mode-btn active" data-mode="grid" aria-label="Grid view">
                  <span>‚äû</span>
                </button>
                <button type="button" class="view-mode-btn" data-mode="list" aria-label="List view">
                  <span>‚ò∞</span>
                </button>
              </div>
              <button type="button" class="bulk-actions-btn" id="bulk-actions-btn">Bulk Actions</button>
            </div>
          </header>

          <div class="documents-toolbar">
            <div class="toolbar-left">
              <div class="folder-breadcrumb" id="folder-breadcrumb">
                <button class="breadcrumb-item active" data-folder="">All Documents</button>
              </div>
            </div>

            <div class="toolbar-right">
              <div class="sort-controls">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select" class="form-select">
                  <option value="name">Name</option>
                  <option value="date">Date Modified</option>
                  <option value="size">Size</option>
                  <option value="type">Type</option>
                </select>
                <button
                  class="sort-direction-btn"
                  id="sort-direction-btn"
                  aria-label="Sort direction"
                  type="button">
                  ‚Üë
                </button>
              </div>

              <div class="filter-controls">
                <select
                  id="type-filter"
                  class="form-select"
                  title="Filter by file type"
                  aria-label="File type filter"
                >
                  <option value="">All Types</option>
                  <option value="pdf">PDF</option>
                  <option value="doc">Documents</option>
                  <option value="image">Images</option>
                  <option value="text">Text Files</option>
                </select>
              </div>
            </div>
          </div>

          <div class="documents-grid" id="documents-grid"></div>

          <div class="bulk-actions-panel" id="bulk-actions-panel">
            <div class="bulk-actions-content">
              <span id="selected-count">0 selected</span>
              <div class="bulk-buttons">
                <button type="button" class="bulk-btn" data-action="download">Download</button>
                <button type="button" class="bulk-btn" data-action="move">Move</button>
                <button type="button" class="bulk-btn" data-action="tag">Add Tags</button>
              </div>
              <button type="button" class="close-bulk-btn" id="close-bulk-btn">√ó</button>
            </div>
          </div>
        </div>
      </section>

      <section id="search-view" class="view" aria-label="Search documents">
        <div class="container">
          <header class="view-header">
            <h2>Search Documents</h2>
            <p>Find documents by name, content, tags, or other criteria</p>
          </header>

          <div class="search-container">
            <div class="search-bar">
              <input
                type="text"
                id="search-input"
                class="search-input"
                placeholder="Search documents, tags, notes..."
              >
              <button type="button" class="search-btn" id="search-btn" aria-label="Search">üîç</button>
            </div>

            <div class="search-filters">
              <div class="filter-group">
                <label>File Type:</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" value="pdf"> PDF</label>
                  <label><input type="checkbox" value="doc"> Documents</label>
                  <label><input type="checkbox" value="image"> Images</label>
                  <label><input type="checkbox" value="text"> Text</label>
                </div>
              </div>

              <div class="filter-group">
                <label>Date Range:</label>
                <div class="date-range">
                  <input
                    type="date"
                    id="date-from"
                    class="form-input"
                    title="Start date for filtering"
                    aria-label="Start date"
                  >
                  <span>to</span>
                  <input
                    type="date"
                    id="date-to"
                    class="form-input"
                    title="End date for filtering"
                    aria-label="End date"
                  >
                </div>
              </div>

              <div class="filter-group">
                <label for="folder-filter">Folder:</label>
                <select id="folder-filter" class="form-select" title="Filter by folder">
                  <option value="">All Folders</option>
                </select>
              </div>

              <div class="filter-group">
                <label>Tags:</label>
                <div id="tag-filter" class="tag-filter"></div>
              </div>
            </div>

            <div class="search-results" id="search-results"></div>
          </div>
        </div>
      </section>

      <section id="profile-view" class="view" aria-label="Profile and settings">
        <div class="container">
          <header class="view-header">
            <h2>Profile &amp; Settings</h2>
            <p>Manage your account and application preferences</p>
          </header>

          <div class="profile-container">
            <div class="profile-section">
              <h3>User Profile</h3>
              <div class="profile-form">
                <div class="form-group">
                  <label for="username">Username:</label>
                  <input type="text" id="username" class="form-input" value="User">
                </div>
                <div class="form-group">
                  <label for="email">Email:</label>
                  <input type="email" id="email" class="form-input" value="user@example.com">
                </div>
                                        <button type="button" class="save-btn" onclick="app.uiManager.saveProfile()">Save Profile</button>
              </div>
            </div>

            <div class="settings-section">
              <h3>Application Settings</h3>
              <div class="settings-form">
                <div class="setting-item">
                  <label class="setting-label">
                    <input type="checkbox" id="auto-organize" />
                    Auto-organize documents by type
                  </label>
                </div>
                <div class="setting-item">
                  <label class="setting-label">
                    <input type="checkbox" id="show-previews" checked />
                    Show document previews
                  </label>
                </div>
                <div class="setting-item">
                  <label class="setting-label">
                    <input type="checkbox" id="activity-logging" checked />
                    Enable activity logging
                  </label>
                </div>
                <div class="setting-item">
                  <label for="default-folder">Default upload folder:</label>
                  <select id="default-folder" class="form-select">
                    <option value="">Root</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="storage-section">
              <h3>Storage Usage</h3>
              <div class="storage-info">
                <div class="storage-bar">
                  <div class="storage-used" id="storage-used"></div>
                </div>
                <p id="storage-text">Using 0 MB of local storage</p>
              </div>
                                      <button type="button" class="clear-storage-btn" id="clear-storage-btn" onclick="app.uiManager.confirmClearData()">Clear All Data</button>
            </div>

            <div class="data-section">
              <h3>Data Management</h3>
              <div class="data-actions">
                <button class="export-btn" id="export-btn">Export Data</button>
                <button class="import-btn" id="import-btn">Import Data</button>
                <input type="file" id="import-file" accept=".json" hidden>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <div
      class="modal"
      id="preview-modal"
      aria-hidden="true"
      role="dialog"
      aria-labelledby="preview-title"
    >
      <div class="modal-overlay" aria-hidden="true"></div>
      <div class="modal-content" role="document" aria-modal="true">
        <div class="modal-header">
          <h3 id="preview-title">Document Preview</h3>
          <div class="preview-controls">
            <button type="button" id="preview-download" class="btn-secondary" title="Download">üì•</button>
            <button type="button" id="preview-fullscreen" class="btn-secondary" title="Fullscreen">üåê</button>
            <button type="button" id="preview-zoom-in" class="btn-secondary" title="Zoom In">+</button>
            <button type="button" id="preview-zoom-out" class="btn-secondary" title="Zoom Out">-</button>
            <button type="button" class="modal-close" aria-label="Close preview">&times;</button>
          </div>
        </div>
        <div class="modal-body">
          <div class="preview-info" id="preview-info">
            <span id="preview-file-info"></span>
            <span id="preview-zoom-level">100%</span>
          </div>
          <div id="preview-content" class="preview-content">
            <div class="preview-loading">
              <div class="loading-spinner"></div>
              <p>Loading preview...</p>
            </div>
          </div>
          <div class="preview-error" id="preview-error" hidden>
            <h4>Preview Error</h4>
            <p id="preview-error-message"></p>
            <button type="button" class="btn-primary" onclick="app.uiManager.retryPreview()">Retry</button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="actions-modal"
      aria-hidden="true"
      role="dialog"
      aria-labelledby="actions-title"
    >
      <div class="modal-overlay" aria-hidden="true"></div>
      <div class="modal-content" role="document" aria-modal="true">
        <div class="modal-header">
          <h3 id="actions-title">Document Actions</h3>
          <button type="button" class="modal-close" aria-label="Close actions">&times;</button>
        </div>
        <div class="modal-body">
          <div class="action-form">
            <div class="form-group" id="rename-group">
              <label for="rename-input">New Name:</label>
              <input type="text" id="rename-input" class="form-input" />
            </div>
            <div class="form-group" id="move-group">
              <label for="move-folder">Move to Folder:</label>
              <select id="move-folder" class="form-select"></select>
            </div>
            <div class="form-group" id="tags-group">
              <label for="edit-tags">Tags:</label>
              <input
                type="text"
                id="edit-tags"
                class="form-input"
                placeholder="Enter tags separated by commas"
              />
            </div>
            <div class="form-group" id="notes-group">
              <label for="edit-notes">Notes:</label>
              <textarea id="edit-notes" class="form-textarea"></textarea>
            </div>
          </div>
          <div class="modal-actions">
                <button type="button" class="btn-secondary" id="cancel-action">Cancel</button>
                <button type="button" class="btn-primary" id="confirm-action">Save Changes</button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="confirm-modal"
      aria-hidden="true"
      role="dialog"
      aria-labelledby="confirm-title"
    >
      <div class="modal-overlay" aria-hidden="true"></div>
      <div class="modal-content" role="document" aria-modal="true">
        <div class="modal-header">
          <h3 id="confirm-title">Confirm Action</h3>
          <button type="button" class="modal-close" aria-label="Close confirmation">&times;</button>
        </div>
        <div class="modal-body">
          <p id="confirm-message">Are you sure you want to perform this action?</p>
          <div class="modal-actions">
            <button class="btn-secondary" id="cancel-confirm">Cancel</button>
            <button class="btn-danger" id="confirm-confirm">Confirm</button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal"
      id="citation-modal"
      aria-hidden="true"
      role="dialog"
      aria-labelledby="citation-title"
    >
      <div class="modal-overlay" aria-hidden="true"></div>
      <div class="modal-content citation-modal-content" role="document" aria-modal="true">
        <div class="modal-header">
          <h3 id="citation-title">Generated Citations</h3>
          <button type="button" class="modal-close" aria-label="Close citations">&times;</button>
        </div>
        <div class="modal-body">
          <div class="citation-section">
            <h4>APA 7th Edition</h4>
            <div class="citation-container">
              <textarea id="apa-citation" class="citation-text" readonly></textarea>
              <button class="copy-btn" id="copy-apa" data-target="apa-citation">Copy APA</button>
            </div>
          </div>

          <div class="citation-section">
            <h4>IEEE Format</h4>
            <div class="citation-container">
              <textarea id="ieee-citation" class="citation-text" readonly></textarea>
              <button class="copy-btn" id="copy-ieee" data-target="ieee-citation">Copy IEEE</button>
            </div>
          </div>

          <div class="citation-info">
            <p><strong>Paper Type:</strong> <span id="citation-paper-type"></span></p>
            <p><strong>Authors:</strong> <span id="citation-authors"></span></p>
            <p><strong>Publication:</strong> <span id="citation-publication"></span></p>
            <p><strong>Year:</strong> <span id="citation-year"></span></p>
          </div>

          <div class="modal-actions">
            <button class="btn-secondary" id="export-citations">Export All Formats</button>
            <button class="btn-primary" onclick="window.app.uiManager.closeAllModals()">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
       class="toast-container"
       id="toast-container"
       role="status"
       aria-live="polite"
       aria-atomic="true"
       aria-label="Notifications"
     ></div>    <div class="loading-overlay" id="loading-overlay" aria-hidden="true">
      <div class="loading-spinner"></div>
      <p>Processing...</p>
    </div>

    <script src="js/app.js"></script>
    <script src="js/document-manager.js"></script>
    <script src="js/ui-manager.js"></script>
    <script src="js/storage-manager.js"></script>
    <script src="js/citation-generator.js"></script>
  </body>
</html>
